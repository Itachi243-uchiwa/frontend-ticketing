<!-- ğŸ¨ PARTICIPANT DASHBOARD - THEME: DARK TEAL -->
<div class="participant-dashboard">
  <div class="dashboard-container">
    <!-- Header -->
    <div class="dashboard-header">
      <div class="header-content">
        <h1 class="header-title">
          Bienvenue, <span class="gradient-text">{{ user()?.firstName }}</span> ! ğŸ‘‹
        </h1>
        <p class="header-subtitle">Votre espace participant</p>
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid">
      @for (stat of stats(); track stat.label) {
        <div class="stat-card" [attr.data-color]="$index">
          <div class="stat-icon">{{ stat.icon }}</div>
          <div class="stat-info">
            <p class="stat-label">{{ stat.label }}</p>
            <p class="stat-value">{{ stat.value }}</p>
          </div>
        </div>
      }
    </div>

    <!-- Actions & Orders -->
    <div class="content-grid">
      <!-- Quick Actions -->
      <div class="content-card">
        <div class="card-header">
          <h2 class="card-title">Actions rapides</h2>
        </div>
        <div class="actions-grid">
          <a routerLink="/browse" class="action-btn action-primary">
            <span class="action-icon">ğŸ”</span>
            <div class="action-content">
              <span class="action-title">Explorer</span>
              <span class="action-desc">Trouver des Ã©vÃ©nements</span>
            </div>
          </a>

          <a routerLink="/tickets" class="action-btn action-secondary">
            <span class="action-icon">ğŸŸï¸</span>
            <div class="action-content">
              <span class="action-title">Mes billets</span>
              <span class="action-desc">QR codes & dÃ©tails</span>
            </div>
          </a>

          <a routerLink="/orders" class="action-btn action-tertiary">
            <span class="action-icon">ğŸ“‹</span>
            <div class="action-content">
              <span class="action-title">Commandes</span>
              <span class="action-desc">Historique</span>
            </div>
          </a>
        </div>
      </div>

      <!-- Recent Orders -->
      <div class="content-card">
        <div class="card-header">
          <h2 class="card-title">DerniÃ¨res commandes</h2>
        </div>

        @if (loading()) {
          <div class="loading-state">
            <div class="spinner-small"></div>
          </div>
        } @else if (recentOrders().length === 0) {
          <div class="empty-state">
            <div class="empty-icon">ğŸŸï¸</div>
            <p class="empty-title">Aucun billet</p>
            <p class="empty-desc">Vous n'avez pas encore de billets</p>
            <app-button routerLink="/browse" variant="primary" size="sm">
              Parcourir les Ã©vÃ©nements
            </app-button>
          </div>
        } @else {
          <div class="orders-list">
            @for (order of recentOrders(); track order.id) {
              <div class="order-item">
                <div class="order-header">
                  <div class="order-info">
                    <p class="order-name">{{ order.event?.name || 'Ã‰vÃ©nement' }}</p>
                    <p class="order-number">#{{ order.orderNumber }}</p>
                  </div>
                  <span class="order-status" [attr.data-status]="order.status">
                    {{ getOrderStatus(order.status).label }}
                  </span>
                </div>
                <div class="order-footer">
                  <span class="order-date">{{ formatDate(order.createdAt) }}</span>
                  <span class="order-amount">{{ order.totalAmount || 0 }}â‚¬</span>
                </div>
              </div>
            }
            <app-button routerLink="/orders" variant="outline" size="sm" [fullWidth]="true">
              Voir toutes mes commandes
            </app-button>
          </div>
        }
      </div>
    </div>

    <!-- Upcoming Events -->
    <div class="content-card events-card">
      <div class="card-header">
        <h2 class="card-title">Ã‰vÃ©nements Ã  venir</h2>
      </div>

      @if (loading()) {
        <div class="loading-state">
          <div class="spinner-small"></div>
        </div>
      } @else if (upcomingEvents().length === 0) {
        <div class="empty-state">
          <div class="empty-icon">ğŸ“…</div>
          <p class="empty-title">Aucun Ã©vÃ©nement</p>
          <p class="empty-desc">Aucun Ã©vÃ©nement Ã  venir pour le moment</p>
          <app-button routerLink="/browse" variant="primary" size="sm">
            Parcourir les Ã©vÃ©nements
          </app-button>
        </div>
      } @else {
        <div class="events-grid">
          @for (event of upcomingEvents(); track event.id) {
            <div class="event-card">
              <div class="event-image">
                @if (event.coverImage) {
                  <img [src]="event.coverImage" [alt]="event.name" />
                } @else {
                  <div class="event-placeholder">
                    <span>ğŸª</span>
                  </div>
                }
              </div>
              <div class="event-content">
                <h3 class="event-name" [title]="event.name">{{ event.name }}</h3>
                <div class="event-details">
                  <div class="event-detail">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    <span>{{ formatDate(event.startDate) }}</span>
                  </div>
                  <div class="event-detail">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    <span class="truncate" [title]="event.location">{{ event.location }}</span>
                  </div>
                </div>
                <a [routerLink]="['/event', event.slug || event.id]" class="event-btn">
                  Voir les dÃ©tails
                </a>
              </div>
            </div>
          }
        </div>
        <div class="events-footer">
          <app-button routerLink="/browse" variant="outline" size="md">
            Voir tous les Ã©vÃ©nements
          </app-button>
        </div>
      }
    </div>
  </div>
</div>
